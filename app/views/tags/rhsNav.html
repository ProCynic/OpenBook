<ul class="nav nav-list well">
  <li class="nav-header">RSS Feed</li>
  <li>
    <button id="showDivRSS" onclick ="ShowHide('RSSiFrame')" style="DISPLAY: none"><i>Hide</i> <i class="icon-chevron-up"></i></button>
    <button id="hideDivRSS" onclick ="ShowHide('RSSiFrame')" style="DISPLAY: block"><i>Show</i> <i class="icon-chevron-down"></i></button>
    <iframe style="DISPLAY: none;border: none;'" id="RSSiFrame" src="@{RSSFeeds.RSSfeeds(_user.id)}" width="100%" height="100%" scrolling = "auto" align="middle" marginheight="0" marginwidth="0" hspace="5" vaspace="5" frameborder="0">
    </iframe>
    #{form action:@RSSFeeds.addFeed(), method:'GET', style:'display:inline'}
      <input type='text' name='url'> </input>
      <input type='submit' value='Add Feed URL'></input>
    #{/form}
  </li>

  <li class="nav-header">Upcoming Events</li>
  <li>
    <a href="/events/upcoming">Upcoming Events</a>
  </li>

  <li class="nav-header">Birthdays</li>
  <li>Today</li>
  #{list items:_user.birthdaysToday(5), as:'u'}
    <li><a data-toggle="modal" href="#bdayWallModal" onclick="initBdayModal('${u}', '${u.id}')"><i class="icon-gift"></i>${u}</a></li>
  #{/list}
  <li>This Week</li>
  #{list items:_user.birthdaysThisWeek(5), as:'u'}
    <li><a data-toggle="modal" href="#bdayWallModal" onclick="initBdayModal('${u}', '${u.id}')"><i class="icon-gift"></i>${u}</a></li>
  #{/list}
</ul>


<div class="modal fade" id="bdayWallModal">
  <div class="modal-header">
    <button class="close" data-dismiss="modal">Ã—</button>
    <h3>Write on <span id="bday-target-name">Name goes here</span>'s Wall</h3>
    <div class="modal-body">
      <textarea id="bday-modal-textarea" placeholder="Happy Birthday!" style="width:95%">
      </textarea>
    </div>
    <div class="modal-footer">
      <button class="btn pull-left" data-dismiss="modal" id="submit-bday-post">Send</button>
      <button class="btn pull-left" data-dismiss="modal">Cancel</button>
    </div>
  </div>
</div>

<script>
  $('#bdayWallModal').on('shown', function () {
    var ta = $('#bday-modal-textarea');
    ta.val('');
    ta.focus();
  });

  function initBdayModal(name, id) {
    $('#bday-target-name').text(name);
    $('#submit-bday-post').click(function() {
      submit('bday-modal-textarea', '', '/user/' + id + '/wall');
    });
  }
</script>
